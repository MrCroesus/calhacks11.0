//@input Asset.ObjectPrefab commitNode
//@input Asset.ObjectPrefab graphEdge

function onTrigger() {
  text = "{\"branches\":[{\"name\":\"13-cut\",\"sha\":\"303f5f7c16e6c97da9dcf258c71b629bbaafb06c\"},{\"name\":\"23-minimum-viable-inference\",\"sha\":\"59b79c4ec38a2b1b7b8f76d39ace4e8baf55d109\"},{\"name\":\"main\",\"sha\":\"6fb287b20d0477180d41d256223f93ba13794979\"},{\"name\":\"ro_feature_tbd\",\"sha\":\"5ef802404f5a6dc0e48afd1f45b5fc631b8055dc\"}],\"commits\":[{\"sha\":\"303f5f7c16e6c97da9dcf258c71b629bbaafb06c\",\"message\":\"cutadded\",\"author\":\"KashyapChaturvedula\",\"date\":\"2023-12-22T01:37:49Z\",\"parents\":[\"1ca1f6b01e144815030f4a3b27054faaf9cf2605\"],\"branch\":\"13-cut\"},{\"sha\":\"1ca1f6b01e144815030f4a3b27054faaf9cf2605\",\"message\":\"Mergepullrequest#19fromKashyap456/14-copy\\n\\ncopy/pasteimplemented\",\"author\":\"Kashyap456\",\"date\":\"2023-12-22T01:16:22Z\",\"parents\":[\"a9679437c63ac3f4833397c525cff0917c1ae91a\",\"307b04f8d1793e0e907fc046bd68b8a959b13a85\"],\"branch\":\"13-cut\"},{\"sha\":\"307b04f8d1793e0e907fc046bd68b8a959b13a85\",\"message\":\"copy/pasteimplemented\",\"author\":\"KashyapChaturvedula\",\"date\":\"2023-12-21T04:46:23Z\",\"parents\":[\"a9679437c63ac3f4833397c525cff0917c1ae91a\"],\"branch\":\"13-cut\"},{\"sha\":\"a9679437c63ac3f4833397c525cff0917c1ae91a\",\"message\":\"Mergepullrequest#17fromKashyap456/bk1031/cavas-sizing\\n\\nPersistdrawingonresize\",\"author\":\"BharatKathi\",\"date\":\"2023-12-15T11:01:39Z\",\"parents\":[\"770b8ec53dc224ae9235e5f57e4c751d30968f35\",\"1078a8c5079978b6ddc8ba042e8ac7c7d3c867b6\"],\"branch\":\"13-cut\"},{\"sha\":\"1078a8c5079978b6ddc8ba042e8ac7c7d3c867b6\",\"message\":\"removeunusedimports\",\"author\":\"BharatKathi\",\"date\":\"2023-12-15T09:32:25Z\",\"parents\":[\"7d1b12ed25c7cb6823618e0b1580abf539822567\"],\"branch\":\"13-cut\"},{\"sha\":\"7d1b12ed25c7cb6823618e0b1580abf539822567\",\"message\":\"persistdrawingonresize\",\"author\":\"BharatKathi\",\"date\":\"2023-12-15T09:28:08Z\",\"parents\":[\"770b8ec53dc224ae9235e5f57e4c751d30968f35\"],\"branch\":\"13-cut\"},{\"sha\":\"770b8ec53dc224ae9235e5f57e4c751d30968f35\",\"message\":\"Mergepullrequest#12fromKashyap456/8-selection-tool\\n\\nAddedSelection\",\"author\":\"BharatKathi\",\"date\":\"2023-12-15T08:46:37Z\",\"parents\":[\"d1cb81ad445ceeca67164589d7c7b725c26cf152\",\"95544a24377a6e99dba96d447b1d2a2b3b6d9580\"],\"branch\":\"13-cut\"},{\"sha\":\"95544a24377a6e99dba96d447b1d2a2b3b6d9580\",\"message\":\"Mergebranch'main'into8-selection-tool\",\"author\":\"BharatKathi\",\"date\":\"2023-12-15T08:45:12Z\",\"parents\":[\"88878f5ff30a1f66642e74cfa2ecb911df584956\",\"d1cb81ad445ceeca67164589d7c7b725c26cf152\"],\"branch\":\"13-cut\"},{\"sha\":\"d1cb81ad445ceeca67164589d7c7b725c26cf152\",\"message\":\"Mergepullrequest#10fromKashyap456/bk1031/color-picker\\n\\nColorpicker\",\"author\":\"BharatKathi\",\"date\":\"2023-12-15T08:43:12Z\",\"parents\":[\"c0e182fe4bce64c9bfabb399fee2ef8b4517eb3e\",\"53753b357245ce2fa6254d0bfeb310a679dc0874\"],\"branch\":\"13-cut\"},{\"sha\":\"88878f5ff30a1f66642e74cfa2ecb911df584956\",\"message\":\"mergemainintobranch\",\"author\":\"KashyapChaturvedula\",\"date\":\"2023-12-15T08:29:34Z\",\"parents\":[\"b56b68ad3ee29385907483d622276c5ebb2e87c9\",\"c0e182fe4bce64c9bfabb399fee2ef8b4517eb3e\"],\"branch\":\"13-cut\"},{\"sha\":\"b56b68ad3ee29385907483d622276c5ebb2e87c9\",\"message\":\"selectionworks(nopersistence)\",\"author\":\"KashyapChaturvedula\",\"date\":\"2023-12-15T08:27:11Z\",\"parents\":[\"eaf0059dba87c9b4ea47dce397a4d4d0a79efada\"],\"branch\":\"13-cut\"},{\"sha\":\"53753b357245ce2fa6254d0bfeb310a679dc0874\",\"message\":\"removeoldcolorsarray\",\"author\":\"BharatKathi\",\"date\":\"2023-12-15T08:18:47Z\",\"parents\":[\"4532a45b394923d2725a630ca07c81e0f15143c1\"],\"branch\":\"13-cut\"},{\"sha\":\"4532a45b394923d2725a630ca07c81e0f15143c1\",\"message\":\"addcolorpickerstopalette\",\"author\":\"BharatKathi\",\"date\":\"2023-12-15T08:13:26Z\",\"parents\":[\"8755d737944f2bed0e2d3b33089c565233dde534\"],\"branch\":\"13-cut\"},{\"sha\":\"c0e182fe4bce64c9bfabb399fee2ef8b4517eb3e\",\"message\":\"Mergepullrequest#9fromKashyap456/redo_fix_and_move\\n\\nRedofixandmove\",\"author\":\"Kashyap456\",\"date\":\"2023-12-15T06:55:51Z\",\"parents\":[\"eaf0059dba87c9b4ea47dce397a4d4d0a79efada\",\"60dc0cde3ca40f8fc479509cc5ec378a5cac499a\"],\"branch\":\"13-cut\"},{\"sha\":\"60dc0cde3ca40f8fc479509cc5ec378a5cac499a\",\"message\":\"cleanupcomments\",\"author\":\"BharatKathi\",\"date\":\"2023-12-15T06:53:41Z\",\"parents\":[\"a491ac71652b4930ce3017b28ffe4c9e1647d70f\"],\"branch\":\"13-cut\"},{\"sha\":\"a491ac71652b4930ce3017b28ffe4c9e1647d70f\",\"message\":\"fixed#4ongang\",\"author\":\"RohanVirmani\",\"date\":\"2023-12-15T06:46:27Z\",\"parents\":[\"a9ea0bd8ee98f9c9438a718a926bddaad41839a4\"],\"branch\":\"13-cut\"},{\"sha\":\"a9ea0bd8ee98f9c9438a718a926bddaad41839a4\",\"message\":\"fixlockfile\",\"author\":\"RohanVirmani\",\"date\":\"2023-12-15T06:41:31Z\",\"parents\":[\"32c322b8f61ad8b6aeac4de0e759ab2c16f5e6ba\"],\"branch\":\"13-cut\"},{\"sha\":\"32c322b8f61ad8b6aeac4de0e759ab2c16f5e6ba\",\"message\":\"Mergebranch'redo_fix_and_move'ofhttps://github.com/Kashyap456/canvasintoredo_fix_and_move\",\"author\":\"RohanVirmani\",\"date\":\"2023-12-15T06:41:10Z\",\"parents\":[\"ce7fe59fc7c721b99a2a696e4dde056825610f38\",\"1c4236fd40450366d9070359050d7745220087d1\"],\"branch\":\"13-cut\"},{\"sha\":\"ce7fe59fc7c721b99a2a696e4dde056825610f38\",\"message\":\"fixes#4\",\"author\":\"RohanVirmani\",\"date\":\"2023-12-15T06:34:46Z\",\"parents\":[\"3a9c57b0c1b3d3a6ad488d2e2b4fef8b97009b2f\",\"1b1c390015bd3c0309cfc0ab1ce61eda93d8cac1\"],\"branch\":\"13-cut\"},{\"sha\":\"1c4236fd40450366d9070359050d7745220087d1\",\"message\":\"Mergebranch'redo_fix_and_move'ofhttps://github.com/Kashyap456/canvasintoredo_fix_and_move\",\"author\":\"RohanVirmani\",\"date\":\"2023-12-15T06:34:46Z\",\"parents\":[\"3a9c57b0c1b3d3a6ad488d2e2b4fef8b97009b2f\",\"1b1c390015bd3c0309cfc0ab1ce61eda93d8cac1\"],\"branch\":\"13-cut\"},{\"sha\":\"3a9c57b0c1b3d3a6ad488d2e2b4fef8b97009b2f\",\"message\":\"fixedredoundoissueandmovedallfunctionalitytoonefile-fixes#4\",\"author\":\"RohanVirmani\",\"date\":\"2023-12-15T06:25:47Z\",\"parents\":[\"eaf0059dba87c9b4ea47dce397a4d4d0a79efada\"],\"branch\":\"13-cut\"},{\"sha\":\"1b1c390015bd3c0309cfc0ab1ce61eda93d8cac1\",\"message\":\"fixedredoundoissueandmovedallfunctionalitytoonefile\",\"author\":\"RohanVirmani\",\"date\":\"2023-12-15T06:22:22Z\",\"parents\":[\"eaf0059dba87c9b4ea47dce397a4d4d0a79efada\"],\"branch\":\"13-cut\"},{\"sha\":\"8755d737944f2bed0e2d3b33089c565233dde534\",\"message\":\"addcolorpalettetostore\",\"author\":\"BharatKathi\",\"date\":\"2023-12-15T05:30:02Z\",\"parents\":[\"eaf0059dba87c9b4ea47dce397a4d4d0a79efada\"],\"branch\":\"13-cut\"},{\"sha\":\"eaf0059dba87c9b4ea47dce397a4d4d0a79efada\",\"message\":\"Mergepullrequest#2fromKashyap456/ro_feature_tbd\\n\\nUpdatedundofunctionality,addedredofunctionality,addedredobuttontopage.\",\"author\":\"RohanVirmani\",\"date\":\"2023-12-15T04:43:38Z\",\"parents\":[\"5bcba3f0b5777e34a360034958cf9b40c821098e\",\"5ef802404f5a6dc0e48afd1f45b5fc631b8055dc\"],\"branch\":\"13-cut\"},{\"sha\":\"5ef802404f5a6dc0e48afd1f45b5fc631b8055dc\",\"message\":\"UpdatedUndofunctionality,addedredofunctionality\",\"author\":\"RohanVirmani\",\"date\":\"2023-12-15T04:32:28Z\",\"parents\":[\"e9ba0625c77645e0a408ff4a372abb8c786a3db9\"],\"branch\":\"13-cut\"},{\"sha\":\"5bcba3f0b5777e34a360034958cf9b40c821098e\",\"message\":\"Mergepullrequest#1fromKashyap456/bk1031/palette-upgrade\\n\\nPaletteupgrade-ThanksBharat!\",\"author\":\"Kashyap456\",\"date\":\"2023-12-15T04:32:04Z\",\"parents\":[\"e9ba0625c77645e0a408ff4a372abb8c786a3db9\",\"798bfba4fdfe2d3ffee0b16dca2119c0a8c3063e\"],\"branch\":\"13-cut\"},{\"sha\":\"798bfba4fdfe2d3ffee0b16dca2119c0a8c3063e\",\"message\":\"centertextinpaletteitem\",\"author\":\"BharatKathi\",\"date\":\"2023-12-15T04:20:17Z\",\"parents\":[\"0d81486c6e9b784896126dfa934b10ce4e863d2e\"],\"branch\":\"13-cut\"},{\"sha\":\"0d81486c6e9b784896126dfa934b10ce4e863d2e\",\"message\":\"setdefaultcolortoblack\",\"author\":\"BharatKathi\",\"date\":\"2023-12-15T04:19:12Z\",\"parents\":[\"168aab48c85e8bb178580390232596eff68ddb92\"],\"branch\":\"13-cut\"},{\"sha\":\"168aab48c85e8bb178580390232596eff68ddb92\",\"message\":\"changetextcolorofpaletteitembasedonbackground\",\"author\":\"BharatKathi\",\"date\":\"2023-12-15T04:15:44Z\",\"parents\":[\"9b5adb53d7401c8426c4310c46dd05b3b14f858a\"],\"branch\":\"13-cut\"},{\"sha\":\"9b5adb53d7401c8426c4310c46dd05b3b14f858a\",\"message\":\"updatepalettedesign\",\"author\":\"BharatKathi\",\"date\":\"2023-12-15T03:56:16Z\",\"parents\":[\"e9ba0625c77645e0a408ff4a372abb8c786a3db9\"],\"branch\":\"13-cut\"},{\"sha\":\"e9ba0625c77645e0a408ff4a372abb8c786a3db9\",\"message\":\"fixeddoubleundobug\",\"author\":\"KashyapChaturvedula\",\"date\":\"2023-12-14T08:20:46Z\",\"parents\":[\"a23c98aa27be5f939ba51d6319fac7c2fed8a83c\"],\"branch\":\"13-cut\"},{\"sha\":\"a23c98aa27be5f939ba51d6319fac7c2fed8a83c\",\"message\":\"undobuttonimplemented\",\"author\":\"KashyapChaturvedula\",\"date\":\"2023-12-14T08:17:56Z\",\"parents\":[\"82e760e268419bc2b9becb95650c789266ba9ee0\"],\"branch\":\"13-cut\"},{\"sha\":\"82e760e268419bc2b9becb95650c789266ba9ee0\",\"message\":\"migratedtosvelte;madecolorboard\",\"author\":\"KashyapChaturvedula\",\"date\":\"2023-12-14T07:12:26Z\",\"parents\":[\"0a1906113a0b858c9fe0485ccc445d507cb3cf5e\"],\"branch\":\"13-cut\"},{\"sha\":\"0a1906113a0b858c9fe0485ccc445d507cb3cf5e\",\"message\":\"drawingworks\",\"author\":\"KashyapChaturvedula\",\"date\":\"2023-12-14T04:17:25Z\",\"parents\":[],\"branch\":\"13-cut\"},{\"sha\":\"59b79c4ec38a2b1b7b8f76d39ace4e8baf55d109\",\"message\":\"fixedselection\",\"author\":\"KashyapChaturvedula\",\"date\":\"2024-01-18T23:31:15Z\",\"parents\":[\"94a71fc1d40ef97bc816307c312519217517a5b5\"],\"branch\":\"23-minimum-viable-inference\"},{\"sha\":\"94a71fc1d40ef97bc816307c312519217517a5b5\",\"message\":\"minferenceachievedselectionfucked\",\"author\":\"KashyapChaturvedula\",\"date\":\"2024-01-18T23:11:35Z\",\"parents\":[\"dbf19598108869a62b2973ff62e0fba6f4deaa27\"],\"branch\":\"23-minimum-viable-inference\"},{\"sha\":\"dbf19598108869a62b2973ff62e0fba6f4deaa27\",\"message\":\"ctrlnetacceptsuserinput\",\"author\":\"KashyapChaturvedula\",\"date\":\"2024-01-16T22:07:25Z\",\"parents\":[\"41ff14407b10ede59fc6c7a415a3b80f49e38671\"],\"branch\":\"23-minimum-viable-inference\"},{\"sha\":\"41ff14407b10ede59fc6c7a415a3b80f49e38671\",\"message\":\"inferenceworkingindependentlyonbackend;imagesendingworks\",\"author\":\"KashyapChaturvedula\",\"date\":\"2024-01-16T21:58:10Z\",\"parents\":[\"1f636a647df8897638bc6741c2497866d3a3f41a\"],\"branch\":\"23-minimum-viable-inference\"},{\"sha\":\"1f636a647df8897638bc6741c2497866d3a3f41a\",\"message\":\"helloworld\",\"author\":\"KashyapChaturvedula\",\"date\":\"2023-12-28T20:25:28Z\",\"parents\":[\"6bd0ccce4204305d49aa16128440bcde667ca37b\"],\"branch\":\"23-minimum-viable-inference\"},{\"sha\":\"6bd0ccce4204305d49aa16128440bcde667ca37b\",\"message\":\"listener\",\"author\":\"KashyapChaturvedula\",\"date\":\"2023-12-28T00:23:45Z\",\"parents\":[\"2b832bfffadb7a81a5f1165fa54607b468bbbcc2\"],\"branch\":\"23-minimum-viable-inference\"},{\"sha\":\"2b832bfffadb7a81a5f1165fa54607b468bbbcc2\",\"message\":\"Mergepullrequest#22fromKashyap456/21-setup-backend\\n\\nbackendsetup\",\"author\":\"BharatKathi\",\"date\":\"2023-12-22T03:42:11Z\",\"parents\":[\"f252a3d0f048a9ea97e31e7ad92323c0526d2fe0\",\"4c8081f6eaaf68d69882f23e8d8440b4f714b21f\"],\"branch\":\"23-minimum-viable-inference\"},{\"sha\":\"4c8081f6eaaf68d69882f23e8d8440b4f714b21f\",\"message\":\"Updatedprojecttoworkwithpoetry\",\"author\":\"BharatKathi\",\"date\":\"2023-12-22T03:39:27Z\",\"parents\":[\"3ae4462070b25557424463d1319d845af5d525c8\"],\"branch\":\"23-minimum-viable-inference\"},{\"sha\":\"3ae4462070b25557424463d1319d845af5d525c8\",\"message\":\"backwithnogit?\",\"author\":\"KashyapChaturvedula\",\"date\":\"2023-12-22T02:42:13Z\",\"parents\":[\"629c7dfaf9e3810f7e0dff95131be2a06dee8021\"],\"branch\":\"23-minimum-viable-inference\"},{\"sha\":\"629c7dfaf9e3810f7e0dff95131be2a06dee8021\",\"message\":\"deleted,willbringback\",\"author\":\"KashyapChaturvedula\",\"date\":\"2023-12-22T02:41:42Z\",\"parents\":[\"ed7d42fa776565b94a1df62f8de12a9dfab24b60\"],\"branch\":\"23-minimum-viable-inference\"},{\"sha\":\"ed7d42fa776565b94a1df62f8de12a9dfab24b60\",\"message\":\"initialbackendcommit\",\"author\":\"KashyapChaturvedula\",\"date\":\"2023-12-22T02:31:23Z\",\"parents\":[\"f252a3d0f048a9ea97e31e7ad92323c0526d2fe0\"],\"branch\":\"23-minimum-viable-inference\"},{\"sha\":\"f252a3d0f048a9ea97e31e7ad92323c0526d2fe0\",\"message\":\"deleteunusedfiles\",\"author\":\"KashyapChaturvedula\",\"date\":\"2023-12-22T01:58:29Z\",\"parents\":[\"c687122aae3562723ff637366706dc0599ae4eaf\"],\"branch\":\"23-minimum-viable-inference\"},{\"sha\":\"c687122aae3562723ff637366706dc0599ae4eaf\",\"message\":\"Mergebranch'main'ofhttps://github.com/Kashyap456/canvas\",\"author\":\"KashyapChaturvedula\",\"date\":\"2023-12-22T01:57:55Z\",\"parents\":[\"7b08a5837350bec8548e7d26f6acc6672b831d16\",\"21578e077dbc5bdab20bc76adc3d5288239ef149\"],\"branch\":\"23-minimum-viable-inference\"},{\"sha\":\"7b08a5837350bec8548e7d26f6acc6672b831d16\",\"message\":\"deleteunusedfiles\",\"author\":\"KashyapChaturvedula\",\"date\":\"2023-12-22T01:57:48Z\",\"parents\":[\"1ca1f6b01e144815030f4a3b27054faaf9cf2605\"],\"branch\":\"23-minimum-viable-inference\"},{\"sha\":\"21578e077dbc5bdab20bc76adc3d5288239ef149\",\"message\":\"Mergepullrequest#20fromKashyap456/13-cut\\n\\ncutadded\",\"author\":\"Kashyap456\",\"date\":\"2023-12-22T01:40:06Z\",\"parents\":[\"1ca1f6b01e144815030f4a3b27054faaf9cf2605\",\"303f5f7c16e6c97da9dcf258c71b629bbaafb06c\"],\"branch\":\"23-minimum-viable-inference\"},{\"sha\":\"6fb287b20d0477180d41d256223f93ba13794979\",\"message\":\"Mergepullrequest#25fromKashyap456/23-minimum-viable-inference\\n\\nfixedselection\",\"author\":\"KashyapChaturvedula\",\"date\":\"2024-01-18T23:33:30Z\",\"parents\":[\"050fa2e71c4579ae4b8737db69dd70bc5798653f\",\"59b79c4ec38a2b1b7b8f76d39ace4e8baf55d109\"],\"branch\":\"main\"},{\"sha\":\"050fa2e71c4579ae4b8737db69dd70bc5798653f\",\"message\":\"Mergepullrequest#24fromKashyap456/23-minimum-viable-inference\\n\\n23minimumviableinference\",\"author\":\"RohanVirmani\",\"date\":\"2024-01-18T23:16:54Z\",\"parents\":[\"2b832bfffadb7a81a5f1165fa54607b468bbbcc2\",\"94a71fc1d40ef97bc816307c312519217517a5b5\"],\"branch\":\"main\"}],\"relationships\":[{\"from\":\"303f5f7c16e6c97da9dcf258c71b629bbaafb06c\",\"to\":\"1ca1f6b01e144815030f4a3b27054faaf9cf2605\"},{\"from\":\"1ca1f6b01e144815030f4a3b27054faaf9cf2605\",\"to\":\"a9679437c63ac3f4833397c525cff0917c1ae91a\"},{\"from\":\"1ca1f6b01e144815030f4a3b27054faaf9cf2605\",\"to\":\"307b04f8d1793e0e907fc046bd68b8a959b13a85\"},{\"from\":\"307b04f8d1793e0e907fc046bd68b8a959b13a85\",\"to\":\"a9679437c63ac3f4833397c525cff0917c1ae91a\"},{\"from\":\"a9679437c63ac3f4833397c525cff0917c1ae91a\",\"to\":\"770b8ec53dc224ae9235e5f57e4c751d30968f35\"},{\"from\":\"a9679437c63ac3f4833397c525cff0917c1ae91a\",\"to\":\"1078a8c5079978b6ddc8ba042e8ac7c7d3c867b6\"},{\"from\":\"1078a8c5079978b6ddc8ba042e8ac7c7d3c867b6\",\"to\":\"7d1b12ed25c7cb6823618e0b1580abf539822567\"},{\"from\":\"7d1b12ed25c7cb6823618e0b1580abf539822567\",\"to\":\"770b8ec53dc224ae9235e5f57e4c751d30968f35\"},{\"from\":\"770b8ec53dc224ae9235e5f57e4c751d30968f35\",\"to\":\"d1cb81ad445ceeca67164589d7c7b725c26cf152\"},{\"from\":\"770b8ec53dc224ae9235e5f57e4c751d30968f35\",\"to\":\"95544a24377a6e99dba96d447b1d2a2b3b6d9580\"},{\"from\":\"95544a24377a6e99dba96d447b1d2a2b3b6d9580\",\"to\":\"88878f5ff30a1f66642e74cfa2ecb911df584956\"},{\"from\":\"95544a24377a6e99dba96d447b1d2a2b3b6d9580\",\"to\":\"d1cb81ad445ceeca67164589d7c7b725c26cf152\"},{\"from\":\"d1cb81ad445ceeca67164589d7c7b725c26cf152\",\"to\":\"c0e182fe4bce64c9bfabb399fee2ef8b4517eb3e\"},{\"from\":\"d1cb81ad445ceeca67164589d7c7b725c26cf152\",\"to\":\"53753b357245ce2fa6254d0bfeb310a679dc0874\"},{\"from\":\"88878f5ff30a1f66642e74cfa2ecb911df584956\",\"to\":\"b56b68ad3ee29385907483d622276c5ebb2e87c9\"},{\"from\":\"88878f5ff30a1f66642e74cfa2ecb911df584956\",\"to\":\"c0e182fe4bce64c9bfabb399fee2ef8b4517eb3e\"},{\"from\":\"b56b68ad3ee29385907483d622276c5ebb2e87c9\",\"to\":\"eaf0059dba87c9b4ea47dce397a4d4d0a79efada\"},{\"from\":\"53753b357245ce2fa6254d0bfeb310a679dc0874\",\"to\":\"4532a45b394923d2725a630ca07c81e0f15143c1\"},{\"from\":\"4532a45b394923d2725a630ca07c81e0f15143c1\",\"to\":\"8755d737944f2bed0e2d3b33089c565233dde534\"},{\"from\":\"c0e182fe4bce64c9bfabb399fee2ef8b4517eb3e\",\"to\":\"eaf0059dba87c9b4ea47dce397a4d4d0a79efada\"},{\"from\":\"c0e182fe4bce64c9bfabb399fee2ef8b4517eb3e\",\"to\":\"60dc0cde3ca40f8fc479509cc5ec378a5cac499a\"},{\"from\":\"60dc0cde3ca40f8fc479509cc5ec378a5cac499a\",\"to\":\"a491ac71652b4930ce3017b28ffe4c9e1647d70f\"},{\"from\":\"a491ac71652b4930ce3017b28ffe4c9e1647d70f\",\"to\":\"a9ea0bd8ee98f9c9438a718a926bddaad41839a4\"},{\"from\":\"a9ea0bd8ee98f9c9438a718a926bddaad41839a4\",\"to\":\"32c322b8f61ad8b6aeac4de0e759ab2c16f5e6ba\"},{\"from\":\"32c322b8f61ad8b6aeac4de0e759ab2c16f5e6ba\",\"to\":\"ce7fe59fc7c721b99a2a696e4dde056825610f38\"},{\"from\":\"32c322b8f61ad8b6aeac4de0e759ab2c16f5e6ba\",\"to\":\"1c4236fd40450366d9070359050d7745220087d1\"},{\"from\":\"ce7fe59fc7c721b99a2a696e4dde056825610f38\",\"to\":\"3a9c57b0c1b3d3a6ad488d2e2b4fef8b97009b2f\"},{\"from\":\"ce7fe59fc7c721b99a2a696e4dde056825610f38\",\"to\":\"1b1c390015bd3c0309cfc0ab1ce61eda93d8cac1\"},{\"from\":\"1c4236fd40450366d9070359050d7745220087d1\",\"to\":\"3a9c57b0c1b3d3a6ad488d2e2b4fef8b97009b2f\"},{\"from\":\"1c4236fd40450366d9070359050d7745220087d1\",\"to\":\"1b1c390015bd3c0309cfc0ab1ce61eda93d8cac1\"},{\"from\":\"3a9c57b0c1b3d3a6ad488d2e2b4fef8b97009b2f\",\"to\":\"eaf0059dba87c9b4ea47dce397a4d4d0a79efada\"},{\"from\":\"1b1c390015bd3c0309cfc0ab1ce61eda93d8cac1\",\"to\":\"eaf0059dba87c9b4ea47dce397a4d4d0a79efada\"},{\"from\":\"8755d737944f2bed0e2d3b33089c565233dde534\",\"to\":\"eaf0059dba87c9b4ea47dce397a4d4d0a79efada\"},{\"from\":\"eaf0059dba87c9b4ea47dce397a4d4d0a79efada\",\"to\":\"5bcba3f0b5777e34a360034958cf9b40c821098e\"},{\"from\":\"eaf0059dba87c9b4ea47dce397a4d4d0a79efada\",\"to\":\"5ef802404f5a6dc0e48afd1f45b5fc631b8055dc\"},{\"from\":\"5ef802404f5a6dc0e48afd1f45b5fc631b8055dc\",\"to\":\"e9ba0625c77645e0a408ff4a372abb8c786a3db9\"},{\"from\":\"5bcba3f0b5777e34a360034958cf9b40c821098e\",\"to\":\"e9ba0625c77645e0a408ff4a372abb8c786a3db9\"},{\"from\":\"5bcba3f0b5777e34a360034958cf9b40c821098e\",\"to\":\"798bfba4fdfe2d3ffee0b16dca2119c0a8c3063e\"},{\"from\":\"798bfba4fdfe2d3ffee0b16dca2119c0a8c3063e\",\"to\":\"0d81486c6e9b784896126dfa934b10ce4e863d2e\"},{\"from\":\"0d81486c6e9b784896126dfa934b10ce4e863d2e\",\"to\":\"168aab48c85e8bb178580390232596eff68ddb92\"},{\"from\":\"168aab48c85e8bb178580390232596eff68ddb92\",\"to\":\"9b5adb53d7401c8426c4310c46dd05b3b14f858a\"},{\"from\":\"9b5adb53d7401c8426c4310c46dd05b3b14f858a\",\"to\":\"e9ba0625c77645e0a408ff4a372abb8c786a3db9\"},{\"from\":\"e9ba0625c77645e0a408ff4a372abb8c786a3db9\",\"to\":\"a23c98aa27be5f939ba51d6319fac7c2fed8a83c\"},{\"from\":\"a23c98aa27be5f939ba51d6319fac7c2fed8a83c\",\"to\":\"82e760e268419bc2b9becb95650c789266ba9ee0\"},{\"from\":\"82e760e268419bc2b9becb95650c789266ba9ee0\",\"to\":\"0a1906113a0b858c9fe0485ccc445d507cb3cf5e\"},{\"from\":\"59b79c4ec38a2b1b7b8f76d39ace4e8baf55d109\",\"to\":\"94a71fc1d40ef97bc816307c312519217517a5b5\"},{\"from\":\"94a71fc1d40ef97bc816307c312519217517a5b5\",\"to\":\"dbf19598108869a62b2973ff62e0fba6f4deaa27\"},{\"from\":\"dbf19598108869a62b2973ff62e0fba6f4deaa27\",\"to\":\"41ff14407b10ede59fc6c7a415a3b80f49e38671\"},{\"from\":\"41ff14407b10ede59fc6c7a415a3b80f49e38671\",\"to\":\"1f636a647df8897638bc6741c2497866d3a3f41a\"},{\"from\":\"1f636a647df8897638bc6741c2497866d3a3f41a\",\"to\":\"6bd0ccce4204305d49aa16128440bcde667ca37b\"},{\"from\":\"6bd0ccce4204305d49aa16128440bcde667ca37b\",\"to\":\"2b832bfffadb7a81a5f1165fa54607b468bbbcc2\"},{\"from\":\"2b832bfffadb7a81a5f1165fa54607b468bbbcc2\",\"to\":\"f252a3d0f048a9ea97e31e7ad92323c0526d2fe0\"},{\"from\":\"2b832bfffadb7a81a5f1165fa54607b468bbbcc2\",\"to\":\"4c8081f6eaaf68d69882f23e8d8440b4f714b21f\"},{\"from\":\"4c8081f6eaaf68d69882f23e8d8440b4f714b21f\",\"to\":\"3ae4462070b25557424463d1319d845af5d525c8\"},{\"from\":\"3ae4462070b25557424463d1319d845af5d525c8\",\"to\":\"629c7dfaf9e3810f7e0dff95131be2a06dee8021\"},{\"from\":\"629c7dfaf9e3810f7e0dff95131be2a06dee8021\",\"to\":\"ed7d42fa776565b94a1df62f8de12a9dfab24b60\"},{\"from\":\"ed7d42fa776565b94a1df62f8de12a9dfab24b60\",\"to\":\"f252a3d0f048a9ea97e31e7ad92323c0526d2fe0\"},{\"from\":\"f252a3d0f048a9ea97e31e7ad92323c0526d2fe0\",\"to\":\"c687122aae3562723ff637366706dc0599ae4eaf\"},{\"from\":\"c687122aae3562723ff637366706dc0599ae4eaf\",\"to\":\"7b08a5837350bec8548e7d26f6acc6672b831d16\"},{\"from\":\"c687122aae3562723ff637366706dc0599ae4eaf\",\"to\":\"21578e077dbc5bdab20bc76adc3d5288239ef149\"},{\"from\":\"7b08a5837350bec8548e7d26f6acc6672b831d16\",\"to\":\"1ca1f6b01e144815030f4a3b27054faaf9cf2605\"},{\"from\":\"21578e077dbc5bdab20bc76adc3d5288239ef149\",\"to\":\"1ca1f6b01e144815030f4a3b27054faaf9cf2605\"},{\"from\":\"21578e077dbc5bdab20bc76adc3d5288239ef149\",\"to\":\"303f5f7c16e6c97da9dcf258c71b629bbaafb06c\"},{\"from\":\"6fb287b20d0477180d41d256223f93ba13794979\",\"to\":\"050fa2e71c4579ae4b8737db69dd70bc5798653f\"},{\"from\":\"6fb287b20d0477180d41d256223f93ba13794979\",\"to\":\"59b79c4ec38a2b1b7b8f76d39ace4e8baf55d109\"},{\"from\":\"050fa2e71c4579ae4b8737db69dd70bc5798653f\",\"to\":\"2b832bfffadb7a81a5f1165fa54607b468bbbcc2\"},{\"from\":\"050fa2e71c4579ae4b8737db69dd70bc5798653f\",\"to\":\"94a71fc1d40ef97bc816307c312519217517a5b5\"}]}";
  const json = JSON.parse(text);
    
  branches = json.branches;
  commits = json.commits;
  edges = json.relationships;
  
  branches_map = new Map();
  for (let i = 0; i < branches.length; i++) {
    branches_map.set(branches[i].name, i);
  }
//  for (let i = 0; i < commits.length; i++) {
//    // put commits into branches
//    commit = commits[i];
//    branches_map.get(commit.branch).push(commit);
//  }
  
  commits_map = new Map();
//  branches_map.forEach((branch_commits, branch_name) => {
    for (let i = 0; i < commits.length; i++) {
      // determine commit hash and position
      commit = commits[i];
      commitHash = commit.sha;
      commitPosition = new vec3(5 * i - commits.length * 2.5, 5 * branches_map.get(commit.branch), -100);
            
      // initialize commit node prefab
      commitObject = createCommitNode();
      commitObject.name = commitHash;
      commitObject.getTransform().setWorldPosition(commitPosition);
      commits_map.set(commitHash, commitPosition);
    }
//    branch_num += 1;
//  })
    
  for (let i = 0; i < edges.length; i++) {
    // Get endpoint positions
    node1 = commits_map.get(edges[i].from);
    node2 = commits_map.get(edges[i].to);
        
    // initialize graph edge prefab
    edgeObject = createGraphEdge();
        
    edgePosition = new vec3((node1.x + node2.x) / 2,
                            (node1.y + node2.y) / 2,
                            (node1.z + node2.z) / 2);
    edgeObject.getTransform().setWorldPosition(edgePosition);
    edgeObject.getTransform().setLocalRotation(quat.quatFromEuler(0, 0, (Math.PI / 2) + Math.atan2(node1.y - node2.y, node1.x - node2.x)));
    edgeObject.getTransform().setWorldScale(new vec3(0.25, node1.distance(node2), 0.25));
  }
}
// Add our onTrigger() function as a response to the custom trigger "my_trigger"
//global.behaviorSystem.addCustomTriggerResponse('my_trigger', onTrigger);

function createCommitNode() {
  if (script.commitNode) {
    var instanceObject = script.commitNode.instantiate(script.getSceneObject());
    return instanceObject;
  } else {
    return undefined;
  }
}

function createGraphEdge() {
  if (script.graphEdge) {
    var instanceObject = script.graphEdge.instantiate(script.getSceneObject());
    return instanceObject;
  } else {
    return undefined;
  }
}

onTrigger();

function onTestTrigger() {
    print("merge attempt");
}

global.behaviorSystem.addCustomTriggerResponse('test_trigger', onTestTrigger);